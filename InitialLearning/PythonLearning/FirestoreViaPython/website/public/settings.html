<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
  <link rel="stylesheet" href="styles/bootstrap-material-design.min.css">
  <link rel="stylesheet" href="styles/pinterest.css">
  <link rel="stylesheet" href="styles/main.css">
  <title>Pi Security System</title>
</head>

<body>
  <nav class="navbar navbar-dark fixed-top">
    <a class="navbar-brand" href="#">Pi Security System</a>
    <a href="/photos.html" class="btn bmd-btn-icon ml-auto">
      <i class="material-icons">photo_library</i>
    </a>
    &nbsp;&nbsp;
    <a href="#" class="btn bmd-btn-icon">
      <i class="material-icons">settings</i>
    </a>
    <div class="dropdown pull-xs-right">
      <button class="btn bmd-btn-icon dropdown-toggle" type="button" id="lr1" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        <i class="material-icons">more_vert</i>
      </button>
      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="lr1">
        <button id="menuSignOut" class="dropdown-item" type="button"><i
            class="material-icons">logout</i>&nbsp;&nbsp;&nbsp;Sign Out</button>
      </div>
    </div>
  </nav>
  <div id="settingsPage" class="text-center container page-container">
    <div class="card">
      <div class="card-header">
        <div class="row justify-content-center">
          <div class="col-11 col-sm-5">
            <div class="settingsHeading">MANUAL COMMAND</div>
          </div>
          <div class="col-11 col-sm-6">
            <button style="visibility: hidden;" type="button" class="btn btn-outline-primary">Take a Picture</button>
            <button id="takePhotoButton" type="button" class="btn btn-outline-primary">Take a Picture</button>
          </div>
        </div>
      </div>
      <div class="card-body">
        <p class="card-text">Make the Pi take a picture right now and upload it to Firebase. Latest image:</p>
        <img id="latestPhoto" class="img-fluid" src="images/no_photo_available.png" alt="Latest Photo">
        <div id="latestPhotoCaption"></div>
      </div>
    </div>
    <br>
    <div class="card">
      <div class="card-header">
        <div class="row justify-content-center">
          <div class="col-11 col-sm-5">
            <div class="settingsHeading">FEEDBACK STREAM</div>
          </div>
          <div class="col-11 col-sm-6">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label id="streamOnButton" class="btn btn-secondary">
                <input type="radio" name="options" id="streamOnInput" autocomplete="off"> Stream On
              </label>
              <label id="streamOffButton" class="btn btn-secondary active">
                <input type="radio" name="options" id="streamOffInput" autocomplete="off" checked> Stream Off
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body">
        <p class="card-text">When you make a robot, it's hard to know what is going on. The Feedback Stream is designed
          to help debug what is happening on your robot. When the stream is active the most recent Ultrasonic distance
          reading will be displayed below. Additionally, the time since the last photo was taken is displayed below.
          These are the two factors that determine when the security system will automatically take a photo.</p>
        <h5 class="card-title">Current Distance =
          <span id="feedbackStreamCurrentDistance">37 cm</span>
        </h5>
        <h5 class="card-title">Time since last photo =
          <span id="feedbackStreamCurrentTime">317 seconds</span>
        </h5>
      </div>
    </div>
    <br>
    <div class="card">
      <div class="card-header">
        <div class="row justify-content-center">
          <div class="col-11 col-sm-5">
            <div class="settingsHeading">SECURITY SYSTEM</div>
          </div>
          <div class="col-11 col-sm-6">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
              <label id="monitorOnButton" class="btn btn-secondary">
                <input type="radio" name="options2" id="monitorOnInput" autocomplete="off"> Monitor On
              </label>
              <label id="monitorOffButton" class="btn btn-secondary active">
                <input type="radio" name="options2" id="monitorOffInput" autocomplete="off" checked> Monitor Off
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="card-body">
        <p class="card-text">When you are ready, arm the security system. Two things need to happen to take a
          picture. #1. The current ultrasonic distance reading must be less than the set distance threshold (see input
          below).
          #2. To avoid lots of accidental photos, a certain amount of time must pass since the last photo was taken.
          This is know as the <b>cool down time</b>. The cool down time is set below.
          When the Tank Pi meets those criteria, it will automatically take a photo and upload it to Firebase.
        </p>
        <div class="row justify-content-center">
          <div class="col-11 col-sm-6 col-md-4 form-group">
            <label for="distanceThresholdCmInput" class="">Ultrasonic Distance Threshold (cm)</label>
            <input type="text" class="form-control" id="distanceThresholdCmInput">
          </div>
          <div class="col-11 col-sm-6 col-md-4 form-group">
            <label for="coolDownTimeSInput" class="">Cool Down Time Threshold (seconds)</label>
            <input type="text" class="form-control" id="coolDownTimeSInput">
          </div>
          <span class="col-11 col-md-3 form-group bmd-form-group">
            <!-- needed to match padding for floating labels -->
            <button id="submitThresholds" class="btn btn-outline-primary" type="button">Update Settings</button>
          </span>
        </div>
      </div>
    </div>
    <script src="scripts/jquery.min.js"></script>
    <script src="scripts/popper.js"></script>
    <script src="scripts/bootstrap-material-design.js"></script>
    <script>
      $("body").bootstrapMaterialDesign();
    </script>
    <script src="/__/firebase/7.18.0/firebase-app.js"></script>
    <script src="/__/firebase/7.18.0/firebase-analytics.js"></script>
    <script src="/__/firebase/7.18.0/firebase-firestore.js"></script>
    <script src="/__/firebase/7.18.0/firebase-auth.js"></script>
    <script src="/__/firebase/init.js"></script>
    <script src="scripts/main.js"></script>
</body>

</html>